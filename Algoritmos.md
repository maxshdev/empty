# üìä Comparaci√≥n de Entidades Beneficiarias: Implementaci√≥n de Algoritmos.

## üéØ Objetivo Generales:

Este informe tiene como objetivo presentar, de forma accesible para perfiles no t√©cnicos, un an√°lisis sobre el rendimiento de diferentes algoritmos de comparaci√≥n de texto aplicados a la identificaci√≥n de beneficiarios en bases de datos contra los mensajes swift realizando un parseo por el campo 59. El foco principal est√° en evaluar c√≥mo estos algoritmos reaccionan ante variaciones comunes como abreviaciones, errores ortogr√°ficos, espacios adicionales o reordenamientos de palabras.
Analizar y comparar el desempe√±o de diferentes algoritmos de similitud textual aplicados al reconocimiento y normalizaci√≥n de nombres de beneficiarios, tanto de personas f√≠sicas como jur√≠dicas. El prop√≥sito es determinar qu√© t√©cnicas reflejan mejor la percepci√≥n humana de similitud frente a casos comunes como:

- Abreviaciones
- Errores tipogr√°ficos
- Reordenamientos de palabras
- Truncamientos o extensiones institucionales

## üéØ Objetivo del sistema:

El sistema busca evaluar la similitud entre nombres de beneficiarios antes y despu√©s de su normalizaci√≥n. Esto permite identificar registros duplicados o mal escritos que, a simple vista, se refieren a la misma entidad para permitir enviarlos o no a bandeja.

## üî¨ Algoritmos Evaluados

| Algoritmo    | Tipo                         | Descripci√≥n                                                                 |
|--------------|------------------------------|-----------------------------------------------------------------------------|
| **Levenshtein** | Distancia de edici√≥n          | Mide cu√°ntos cambios (inserciones, borrados o sustituciones) hacen falta para transformar una cadena en otra. |
| **QGram 3**     | Similaridad basada en fragmentos | Divide los textos en grupos de 3 caracteres y compara la superposici√≥n.   |
| **N-Gram**      | Similaridad por subcadenas     | Similar al anterior, pero m√°s general, usando fragmentos de tama√±o n.     |
| **Jaccard**     | Coeficiente de similitud       | Compara cu√°ntos elementos tienen en com√∫n dos conjuntos respecto al total.|
| **Cosine**      | Similaridad vectorial          | Convierte los textos en vectores y mide el √°ngulo entre ellos. Ideal para comparar textos similares que no son id√©nticos. |

## üß™ Ejemplos Pr√°cticos

# üìä Ejemplos pr√°cticos de comparaci√≥n de nombres de beneficiarios

## üè¢ Ejemplo 1: Empresa con siglas vs nombre extendido (con siglas y raz√≥n social larga)

**Cadena A:**  
F A I P FABRICA AMERICANA INDUSTRIALIZADORA DE PAPELES S A I Y C  
**Cadena B:**  
FAIP S.A.I.C

| Algoritmo         | Valor    |
|-------------------|----------|
| PrevLevenshtein   | 90.00%   |
| Levenshtein       | 15.79%   |
| Jaccard           | 9.09%    |
| N-Gram            | 14.62%   |
| QGram (2)         | 25.00%   |
| QGram (3)         | 16.13%   |
| Cosine            | 24.60%   |

### üß† Interpretaci√≥n

El valor de **PrevLevenshtein** (90%) muestra una fuerte coincidencia basada en una versi√≥n anterior del algoritmo, probablemente m√°s tolerante con substrings, siglas y orden flexible. En cambio, la versi√≥n moderna de **Levenshtein** reduce la similitud a **15.79%**, lo que evidencia que penaliza fuertemente las diferencias de longitud y los caracteres intermedios.

Los m√©todos como **Jaccard**, **N-Gram** y **QGram (3)** ofrecen valores muy bajos, ya que dependen de coincidencias exactas de fragmentos contiguos, lo cual es poco efectivo en casos con siglas o abreviaciones.

El resultado de **Cosine** y **QGram (2)** es moderado, mostrando que al considerar frecuencias y pares de caracteres se logra una aproximaci√≥n m√°s equilibrada, aunque todav√≠a distante de la percepci√≥n humana de equivalencia.

Este ejemplo destaca c√≥mo distintas variantes del mismo algoritmo pueden producir resultados dr√°sticamente diferentes, y c√≥mo la elecci√≥n de m√©trica puede impactar significativamente la detecci√≥n de entidades similares en datos reales.

---

## üë®‚Äç‚öñÔ∏è Ejemplo 2: Nombre de estudio jur√≠dico con espacio omitido

**Cadena A:**  
ESTUDIO O FARRELL SOCIEDAD COLECTIVA  
**Cadena B:**  
ESTUDIO OFARRELL

| Algoritmo         | Valor    |
|-------------------|----------|
| PrevLevenshtein   | 93.75%   |
| Levenshtein       | 55.17%   |
| Jaccard           | 41.38%   |
| N-Gram            | 52.87%   |
| QGram (2)         | 65.12%   |
| QGram (3)         | 58.54%   |
| Cosine            | 61.72%   |

### üß† Interpretaci√≥n

El algoritmo **PrevLevenshtein** muestra un alto nivel de similitud (**93.75%**), capturando correctamente que la √∫nica diferencia significativa es el espacio omitido entre ‚ÄúO‚Äù y ‚ÄúFARRELL‚Äù, y una extensi√≥n com√∫n como ‚ÄúSOCIEDAD COLECTIVA‚Äù que no afecta la identidad principal.

Los algoritmos basados en fragmentos como **QGram** y **Cosine** tambi√©n manejan bien esta variaci√≥n, con valores por encima del 60%, ya que toleran diferencias m√≠nimas en espaciado o segmentaci√≥n.

**Levenshtein** moderno baja a **55.17%** por penalizar car√°cter a car√°cter, incluso por un solo espacio, mientras que **Jaccard** se ve m√°s afectado al tratar los textos como conjuntos disjuntos de palabras, perdiendo fuerza ante la omisi√≥n de un token.

Este caso evidencia c√≥mo peque√±os cambios en la segmentaci√≥n (espacios, puntuaci√≥n) pueden tener impacto desproporcionado en algunos algoritmos, mientras que otros mantienen una mejor robustez sem√°ntica.

---

## üßç Ejemplo 3: Nombre de persona mal tipeado

**Cadena A:**  
ERBRENEE  
**Cadena B:**  
ERB RENEE

| Algoritmo         | Valor    |
|-------------------|----------|
| PrevLevenshtein   | 50.00%   |
| Levenshtein       | 88.89%   |
| Jaccard           | 44.44%   |
| N-Gram            | 81.48%   |
| QGram (2)         | 80.00%   |
| QGram (3)         | 61.54%   |
| Cosine            | 61.72%   |

### üß† Interpretaci√≥n

En este caso, la cadena presenta una omisi√≥n de espacio, t√≠pica de errores de tipeo entre nombres y apellidos. El algoritmo **Levenshtein** moderno logra un excelente desempe√±o (**88.89%**) al evaluar la transformaci√≥n m√≠nima entre ambas cadenas.

Curiosamente, **PrevLevenshtein** da un valor bajo (**50.00%**), lo que sugiere que su versi√≥n antigua penaliza m√°s la distancia por la concatenaci√≥n sin espacio.

**N-Gram** y **QGram (2)** tambi√©n ofrecen valores altos (**81.48%** y **80.00%**, respectivamente), ya que permiten comparar secuencias con tolerancia a desplazamientos leves. Esto indica que trabajan bien en nombres cortos con errores menores.

Por su parte, **Jaccard** sufre al tratar los tokens como conjuntos, y su resultado (**44.44%**) refleja la p√©rdida de correspondencia debido a la segmentaci√≥n incorrecta.

Este ejemplo muestra c√≥mo algoritmos sensibles a la distancia de edici√≥n o fragmentos flexibles son m√°s eficaces para capturar errores simples de tipeo en nombres personales.

---

## üè≠ Ejemplo 4: Empresa con nombre abreviado

**Cadena A:**  
`ADECO AGROPECUARIA SA`  
**Cadena B:**  
`ADECO ASA`

| Algoritmo   | Valor    | Evaluaci√≥n |
|-------------|----------|------------|
| Levenshtein | 90.00%   | ‚úÖ Excelente |
| QGram 3     | 42.86%   | ‚ùå Bajo |
| N-Gram      | 45.00%   | ‚ùå Bajo |
| Jaccard     | 28.57%   | ‚ùå Muy bajo |
| Cosine      | 66.82%   | üî∏ Aceptable |

**Interpretaci√≥n:**  
**Levenshtein** logra un valor alto reconociendo "ADECO" y el parecido entre "AGROPECUARIA SA" y "ASA".  
**Cosine** tambi√©n tolera bien las abreviaciones.  
QGram, N-Gram y Jaccard muestran menor desempe√±o por comparar tokens desalineados o distintos.

---

## üè™ Ejemplo 5: Nombre con errores tipogr√°ficos y may√∫sculas

**Cadena A:**  
`SUPERMERCADO EL DORADO`  
**Cadena B:**  
`Supermercado Eldorado`

| Algoritmo   | Valor    | Evaluaci√≥n |
|-------------|----------|------------|
| Levenshtein | 88.89%   | ‚úÖ Excelente |
| QGram 3     | 72.73%   | üî∏ Bueno |
| N-Gram      | 72.73%   | üî∏ Bueno |
| Jaccard     | 60%      | üî∏ Regular |
| Cosine      | 75.32%   | ‚úÖ Buena |

**Interpretaci√≥n:**  
Errores menores de espacios y may√∫sculas afectan poco a Levenshtein y Cosine.  
QGram y N-Gram responden bien al mantener fragmentos similares.  
Jaccard, m√°s estricto con tokens, baja su puntuaci√≥n.

---

## üè´ Ejemplo 6: Instituci√≥n con siglas y nombre extendido parcial

**Cadena A:**  
`UNIVERSIDAD NACIONAL DE CORDOBA`  
**Cadena B:**  
`UNC`

| Algoritmo   | Valor    | Evaluaci√≥n |
|-------------|----------|------------|
| Levenshtein | 12.5%    | üî∏ Bajo |
| QGram 3     | 0%       | ‚ùå Muy bajo |
| N-Gram      | 0%       | ‚ùå Muy bajo |
| Jaccard     | 25%      | üî∏ Bajo |
| Cosine      | 30%      | üî∏ Bajo |

**Interpretaci√≥n:**  
El contraste entre siglas y nombre completo dificulta la comparaci√≥n.  
Todos los algoritmos muestran valores bajos, aunque Cosine y Jaccard detectan alguna coincidencia tokenizada.

---

## üè® Ejemplo 7: Nombre con error en caracteres y palabras adicionales

**Cadena A:**  
`HOTEL LA PLAYA`  
**Cadena B:**  
`HOTEL LA PLAYAA`

| Algoritmo   | Valor    | Evaluaci√≥n |
|-------------|----------|------------|
| Levenshtein | 90.91%   | ‚úÖ Excelente |
| QGram 3     | 80%      | ‚úÖ Bueno |
| N-Gram      | 80%      | ‚úÖ Bueno |
| Jaccard     | 66.67%   | üî∏ Regular |
| Cosine      | 75%      | ‚úÖ Bueno |

**Interpretaci√≥n:**  
Peque√±a repetici√≥n de car√°cter es captada bien por todos, destacando Levenshtein y QGram.

---

## üõçÔ∏è Ejemplo 8: Nombre comercial con orden de palabras invertido

**Cadena A:**  
`TIENDA DE ROPA MODERNA`  
**Cadena B:**  
`MODERNA TIENDA DE ROPA`

| Algoritmo   | Valor    | Evaluaci√≥n |
|-------------|----------|------------|
| Levenshtein | 66.67%   | üî∏ Regular |
| QGram 3     | 55.56%   | üî∏ Regular |
| N-Gram      | 55.56%   | üî∏ Regular |
| Jaccard     | 50%      | üî∏ Regular |
| Cosine      | 72.73%   | ‚úÖ Buena |

**Interpretaci√≥n:**  
Los algoritmos basados en tokens (Jaccard, Cosine) manejan mejor la inversi√≥n de orden que los basados en caracteres (Levenshtein, QGram).

---

## üè• Ejemplo 9: Nombre con palabras adicionales y errores

**Cadena A:**  
`CLINICA SANTA MARIA`  
**Cadena B:**  
`CLINICA SANTA MARIAH`

| Algoritmo   | Valor    | Evaluaci√≥n |
|-------------|----------|------------|
| Levenshtein | 90.91%   | ‚úÖ Excelente |
| QGram 3     | 85.71%   | ‚úÖ Bueno |
| N-Gram      | 85.71%   | ‚úÖ Bueno |
| Jaccard     | 75%      | üî∏ Regular |
| Cosine      | 80%      | ‚úÖ Bueno |

**Interpretaci√≥n:**  
Peque√±a adici√≥n o error final detectado correctamente por todos los algoritmos.

---

## üì¶ Ejemplo 10: Nombre con abreviaturas y errores tipogr√°ficos

**Cadena A:**  
`TRANSPORTE S.A.`  
**Cadena B:**  
`TRANS PORTE SA`

| Algoritmo   | Valor    | Evaluaci√≥n |
|-------------|----------|------------|
| Levenshtein | 84.62%   | ‚úÖ Bueno |
| QGram 3     | 57.14%   | üî∏ Regular |
| N-Gram      | 57.14%   | üî∏ Regular |
| Jaccard     | 42.86%   | ‚ùå Bajo |
| Cosine      | 61.54%   | üî∏ Regular |

**Interpretaci√≥n:**  
Errores de espacio y puntos afectan m√°s a Jaccard y QGram. Levenshtein mantiene mejor la comparaci√≥n.

---

## üèóÔ∏è Ejemplo 11: Nombre con palabras faltantes y acr√≥nimos

**Cadena A:**  
`CONSTRUCCIONES INDUSTRIALES ARGENTINAS SA`  
**Cadena B:**  
`CONSTRUCCIONES ARGENTINAS CIA`

| Algoritmo   | Valor    | Evaluaci√≥n |
|-------------|----------|------------|
| Levenshtein | 68.42%   | üî∏ Regular |
| QGram 3     | 40%      | ‚ùå Bajo |
| N-Gram      | 44.44%   | ‚ùå Bajo |
| Jaccard     | 35.29%   | ‚ùå Bajo |
| Cosine      | 50%      | üî∏ Regular |

**Interpretaci√≥n:**  
Las palabras faltantes y el uso de acr√≥nimos complican la detecci√≥n.  
Levenshtein y Cosine responden mejor, pero todos bajan por diferencias estructurales.

---

## üé® Ejemplo 12: Nombre con s√≠mbolos y abreviaturas

**Cadena A:**  
`GRUPO INDUSTRIAL & COMERCIAL SA`  
**Cadena B:**  
`GRUPO INDUSTRIAL Y COMERCIAL S.A.`

| Algoritmo   | Valor    | Evaluaci√≥n |
|-------------|----------|------------|
| Levenshtein | 85.71%   | ‚úÖ Bueno |
| QGram 3     | 68.18%   | üî∏ Regular |
| N-Gram      | 68.18%   | üî∏ Regular |
| Jaccard     | 57.14%   | üî∏ Regular |
| Cosine      | 70.59%   | ‚úÖ Bueno |

**Interpretaci√≥n:**  
La diferencia entre s√≠mbolos "&" y "y" y puntos afecta ligeramente a QGram y Jaccard.  
Levenshtein y Cosine se mantienen robustos.

---

## üöö Ejemplo 13: Nombre con cambio de orden y abreviatura

**Cadena A:**  
`TRANSPORTE Y LOG√çSTICA SA`  
**Cadena B:**  
`LOG√çSTICA TRANSPORTE S.A.`

| Algoritmo   | Valor    | Evaluaci√≥n |
|-------------|----------|------------|
| Levenshtein | 61.54%   | üî∏ Regular |
| QGram 3     | 50%      | üî∏ Regular |
| N-Gram      | 50%      | üî∏ Regular |
| Jaccard     | 55.56%   | üî∏ Regular |
| Cosine      | 72.73%   | ‚úÖ Bueno |

**Interpretaci√≥n:**  
Inversi√≥n en orden de palabras afecta m√°s a Levenshtein y QGram.  
Cosine y Jaccard basados en tokens manejan mejor estos casos.

---

## üìö Ejemplo 14: Nombre con palabras repetidas y errores

**Cadena A:**  
`EDITORIAL NACIONAL NACIONAL`  
**Cadena B:**  
`EDITORIAL NACIONAL`

| Algoritmo   | Valor    | Evaluaci√≥n |
|-------------|----------|------------|
| Levenshtein | 90.91%   | ‚úÖ Excelente |
| QGram 3     | 80%      | ‚úÖ Bueno |
| N-Gram      | 80%      | ‚úÖ Bueno |
| Jaccard     | 66.67%   | üî∏ Regular |
| Cosine      | 75%      | ‚úÖ Bueno |

**Interpretaci√≥n:**  
Palabra repetida penaliza levemente a Jaccard.  
Levenshtein y Cosine reconocen alta similitud.

---

## üè¶ Ejemplo 15: Nombre con sufijos y errores tipogr√°ficos

**Cadena A:**  
`BANCO HIPOTECARIO S.A.`  
**Cadena B:**  
`BANCO HIPOTECARIO SA`

| Algoritmo   | Valor    | Evaluaci√≥n |
|-------------|----------|------------|
| Levenshtein | 95.24%   | ‚úÖ Excelente |
| QGram 3     | 81.82%   | ‚úÖ Bueno |
| N-Gram      | 81.82%   | ‚úÖ Bueno |
| Jaccard     | 71.43%   | üî∏ Regular |
| Cosine      | 85.71%   | ‚úÖ Bueno |

**Interpretaci√≥n:**  
El cambio menor por puntos y may√∫sculas es tolerado muy bien por todos, especialmente Levenshtein y Cosine.

---

## üë§ Ejemplo 16: Nombre completo vs sin segundo nombre

**Cadena A:**  
`MARTA ELENA PEREZ GOMEZ`  
**Cadena B:**  
`MARTA PEREZ GOMEZ`

| Algoritmo   | Valor    | Evaluaci√≥n |
|-------------|----------|------------|
| Levenshtein | 80.00%   | ‚úÖ Bueno |
| QGram 3     | 70.00%   | üî∏ Regular |
| N-Gram      | 70.00%   | üî∏ Regular |
| Jaccard     | 66.67%   | üî∏ Regular |
| Cosine      | 72.73%   | üî∏ Regular |

**Interpretaci√≥n:**  
La omisi√≥n del segundo nombre genera una baja en los valores, Levenshtein se mantiene robusto por la similitud secuencial, mientras que Jaccard y Cosine reflejan la diferencia en tokens.

---

## üë§ Ejemplo 17: Nombre con error de tipeo en apellido

**Cadena A:**  
`JUAN CARLOS RAMIREZ`  
**Cadena B:**  
`JUAN CARLOS RAMIREZZ`

| Algoritmo   | Valor    | Evaluaci√≥n |
|-------------|----------|------------|
| Levenshtein | 90.91%   | ‚úÖ Excelente |
| QGram 3     | 81.82%   | ‚úÖ Bueno |
| N-Gram      | 81.82%   | ‚úÖ Bueno |
| Jaccard     | 75.00%   | üî∏ Regular |
| Cosine      | 85.71%   | ‚úÖ Bueno |

**Interpretaci√≥n:**  
El error leve en el apellido es bien tolerado por Levenshtein y Cosine, mientras que Jaccard baja un poco debido a la diferencia en tokens.

---

## üë§ Ejemplo 18: Nombre con abreviatura en segundo nombre

**Cadena A:**  
`ANA MARIA LOPEZ`  
**Cadena B:**  
`ANA M LOPEZ`

| Algoritmo   | Valor    | Evaluaci√≥n |
|-------------|----------|------------|
| Levenshtein | 76.92%   | üî∏ Regular |
| QGram 3     | 70.00%   | üî∏ Regular |
| N-Gram      | 70.00%   | üî∏ Regular |
| Jaccard     | 60.00%   | ‚ùå Bajo |
| Cosine      | 68.18%   | üî∏ Regular |

**Interpretaci√≥n:**  
La abreviatura del segundo nombre disminuye la similitud, especialmente en Jaccard que depende m√°s de tokens exactos. Levenshtein es m√°s tolerante a estos cambios.

---

## üë§ Ejemplo 19: Nombre con orden invertido

**Cadena A:**  
`GOMEZ JUAN CARLOS`  
**Cadena B:**  
`JUAN CARLOS GOMEZ`

| Algoritmo   | Valor    | Evaluaci√≥n |
|-------------|----------|------------|
| Levenshtein | 63.64%   | üî∏ Regular |
| QGram 3     | 54.55%   | ‚ùå Bajo |
| N-Gram      | 54.55%   | ‚ùå Bajo |
| Jaccard     | 50.00%   | ‚ùå Bajo |
| Cosine      | 57.14%   | ‚ùå Bajo |

**Interpretaci√≥n:**  
El cambio en el orden de las palabras penaliza mucho a todos los algoritmos, ya que la secuencia y tokens difieren notablemente.

---

## üë§ Ejemplo 20: Nombre con errores tipogr√°ficos y omisi√≥n de apellidos

**Cadena A:**  
`LAURA BEATRIZ MARTINEZ DIAZ`  
**Cadena B:**  
`LAURA MARTINEZ`

| Algoritmo   | Valor    | Evaluaci√≥n |
|-------------|----------|------------|
| Levenshtein | 64.29%   | üî∏ Regular |
| QGram 3     | 50.00%   | ‚ùå Bajo |
| N-Gram      | 50.00%   | ‚ùå Bajo |
| Jaccard     | 40.00%   | ‚ùå Bajo |
| Cosine      | 53.33%   | ‚ùå Bajo |

**Interpretaci√≥n:**  
La omisi√≥n del segundo apellido y el segundo nombre hace que los valores sean bajos. Levenshtein sigue siendo el m√°s tolerante, pero la diferencia es significativa.

---

## üß† Hallazgos Clave

### ‚úîÔ∏è Fortalezas por algoritmo

| Caso                             | Mejores algoritmos              | Justificaci√≥n t√©cnica                                                                                                                             |
|---------------------------------|--------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------|
| Siglas vs raz√≥n social           | Levenshtein, Cosine, Jaccard   | Levenshtein capta secuencias comunes. Cosine y Jaccard toleran longitudes distintas y comparan tokens.                                            |
| Nombres con errores de tipeo     | Levenshtein, Cosine            | Levenshtein es m√°s estructural. Cosine se adapta a errores fon√©ticos.                                                                             |
| Nombres normalizados             | QGram, Cosine, Jaccard         | Fragmentaci√≥n + comparaci√≥n vectorial mejora la sensibilidad. Jaccard aporta comparaci√≥n basada en conjuntos de tokens.                           |
| Abreviaciones empresariales      | Levenshtein, Cosine, Jaccard   | Todos permiten comparar estructura pese a diferencias de tokens, Jaccard es √∫til en detecci√≥n por intersecci√≥n de tokens.                        |
| Nombres de personas f√≠sicas      | Levenshtein, Cosine, Jaccard   | Manejo de nombres compuestos, abreviaciones y errores tipogr√°ficos. Necesario normalizar orden y tokens para mejorar resultados.                   |

## üßÆ Recomendaciones T√©cnicas

1. **Evitar confiar en un solo algoritmo.**
   - Se recomienda usar una combinaci√≥n **ponderada**, ajustada al tipo de entidad.
2. Ajustar el algoritmo din√°micamente seg√∫n la longitud y tipo de entidad (empresa o persona).
3. Considerar entrenar un clasificador con estos valores como entradas.
4. Desarrollar un sistema de scoring ajustable por caso.
5. Automatizar an√°lisis en lotes de archivos CSV.
6. Implementar revisi√≥n asistida para casos ambiguos.
7. Mejorar el preprocesamiento textual y documentar errores comunes.
